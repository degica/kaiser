<!DOCTYPE html>
<html>
<!-- Generated using weaver: https://github.com/davidsiaw/weaver -->
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Kaiser Docs - Databases</title>

    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="../css/plugins/iCheck/custom.css" rel="stylesheet">

    	<link href="../css/style.css" rel="stylesheet">


    <link href="../css/animate.css" rel="stylesheet">

    <link href="../css/main.css" rel="stylesheet">




</head>

<body class=' fixed-sidebar'>

<div id="background" style="z-index: -999; position:absolute; left:0px; right:0px; width:100%; height:100%">

</div>

<div id="content" style="z-index: 0">

	<div id="wrapper">

		<nav class="navbar-default navbar-static-side" role="navigation">
			<div class="sidebar-collapse">
				<ul class="nav" id="side-menu">


	                <li>
	                    <a href="https://tech.degica.com/kaiser/branches/use-updated-dockerdns/"><i class="fa fa-home"></i> <span class="nav-label">Kaiser Docs</span> <span class="label label-primary pull-right"></span></a>
	                </li>

<li ><a href="https://tech.degica.com/kaiser/branches/use-updated-dockerdns/0110-getting_started/"><i class="fa fa-file"></i><span class="nav-label">Getting Started</span></a></li><li ><a href="https://tech.degica.com/kaiser/branches/use-updated-dockerdns/0115-command-reference/"><i class="fa fa-file"></i><span class="nav-label">Command Reference</span></a></li><li ><a href="https://tech.degica.com/kaiser/branches/use-updated-dockerdns/0120-the-kaiserfile/"><i class="fa fa-file"></i><span class="nav-label">The Kaiserfile</span></a></li><li ><a href="https://tech.degica.com/kaiser/branches/use-updated-dockerdns/0130-databases/"><i class="fa fa-file"></i><span class="nav-label">Databases</span></a></li><li ><a href="https://tech.degica.com/kaiser/branches/use-updated-dockerdns/0140-suffixes/"><i class="fa fa-file"></i><span class="nav-label">Suffixes</span></a></li><li ><a href="https://tech.degica.com/kaiser/branches/use-updated-dockerdns/0510-plugins/"><i class="fa fa-file"></i><span class="nav-label">Plugins</span></a></li>

				</ul>
			</div>
		</nav>
		<div id="page-wrapper" class="gray-bg">
			<div class="row border-bottom">
		        <nav class="navbar navbar-static-top  " role="navigation" style="margin-bottom: 0">
					<div class="navbar-header">
					    <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i> </a>
					</div>
		            <ul class="nav navbar-top-links navbar-right">
		                <!-- NAV RIGHT -->
		            </ul>
		        </nav>
	        </div>
	<div class="row wrapper border-bottom white-bg page-heading" style="">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <h2>Kaiser Documentation</h2><ol class="breadcrumb"><li>Databases</li></ol>
  </div>

	</div>
	<div class="row " style="">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <br  /><div class="ibox float-e-margins"><div class="ibox-content" style="min-height: px"><h2>Setting up a Database for your app</h2>

<p>The easiest way to setup a database for your app to use is add the folliwing to your Kaiserfile:</p>
<div class="CodeRay">
  <div class="code"><pre>plugin <span style="color:#A60">:database</span>

def_db <span style="color:#A60">:mysql</span> <span style="color:#777"># or :postgres</span>
</pre></div>
</div>

<p>For more information about the database plugin, go to the <a href="/0510-plugins">plugins page</a></p>

<p>Usually at a base level you would want to define your root password and database version at least. That can be done with</p>
<div class="CodeRay">
  <div class="code"><pre>plugin <span style="color:#A60">:database</span>

def_db <span style="color:#606">mysql</span>: {
  <span style="color:#606">version</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">8.0</span><span style="color:#710">'</span></span>,
  <span style="color:#606">root_password</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">secret</span><span style="color:#710">'</span></span>
}
</pre></div>
</div>

<p>And, in order to provide your application with access to it, simply give the application information about the database.</p>

<p>For example, to give the MySQL details to your Rails application, do the following:</p>
<div class="CodeRay">
  <div class="code"><pre>dockerfile <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Dockerfile</span><span style="color:#710">'</span></span>

plugin <span style="color:#A60">:database</span>

def_db <span style="color:#A60">:mysql</span>: {
  <span style="color:#606">version</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">8.0</span><span style="color:#710">'</span></span>,
  <span style="color:#606">root_password</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">secret</span><span style="color:#710">'</span></span>
}

app_params <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">
  -e DATABASE_URL=mysql2://root:secret@&lt;%= db_container_name %&gt;
  ...

</span></span></pre></div>
</div>

<p>You can also pass information in as separate pieces, like how a PHP application typically expects. Here is an example with postgres:</p>
<div class="CodeRay">
  <div class="code"><pre>dockerfile <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Dockerfile</span><span style="color:#710">'</span></span>

plugin <span style="color:#A60">:database</span>
def_db <span style="color:#606">postgres</span>: { <span style="color:#606">root_password</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">verysecret</span><span style="color:#710">'</span></span> }

app_params <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">
    -e DB_USER=postgres
    -e DB_PASS=verysecret
    -e DB_NAME=awesome_db
    -e DB_HOST=&lt;%= db_container_name %&gt;
    -e DB_PORT=5432
</span></span></pre></div>
</div>
</div></div>
  </div>

	</div>

		</div>
	</div>

</div>

    <!-- Mainly scripts -->
    <script src="../js/jquery-3.1.1.min.js"></script>
    <script src="../js/jquery-ui-1.10.4.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="../js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
	<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			asciimath2jax: {
				delimiters: [['$$$MATH$$$','$$$ENDMATH$$$']]
			}
		});
	</script>
    <script src="../js/MathJax/MathJax.js?config=AM_HTMLorMML-full" async></script>




    <!-- Custom and plugin javascript -->
    <script src="../js/weaver.js"></script>
    <script src='../js/plugins/pace/pace.min.js'></script>

    <script>



$( document ).ready(function() {



});
    </script>



</body>

</html>

