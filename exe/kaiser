#!/usr/bin/env ruby

require 'optimist'
require 'fileutils'
require 'yaml'
require 'json'
require 'pty'
require 'erb'

require 'kaiser'

cli = Kaiser::KaiserCli.new(`pwd`.chomp)

SUB_COMMANDS = %w{[init deinit up down shutdown]}.freeze
Optimist.options do
  banner "Kaiser v#{Kaiser::VERSION}"
  # opt :dry_run, "Don't actually do anything", :short => "-n"
  stop_on SUB_COMMANDS
end

cmd = ARGV.shift # get the subcommand
cli.send(:"#{cmd}")
